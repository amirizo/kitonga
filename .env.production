# ==================================================
# KITONGA WI-FI VPS ENVIRONMENT CONFIGURATION
# ==================================================
# VPS: server1.yum-express.com (66.29.143.116)
# Frontend: https://kitonga.klikcell.com/
# Backend: https://api.kitonga.klikcell.com/

# ==================================================
# DJANGO CORE SETTINGS
# ==================================================

# SECURITY WARNING: Generate a new secret key for production
# Generate with: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY=vfnd!4c5@4xrt&w==+sd07hhj$*9$4&w$&1nzf!9jvk@og4bj8

# Production mode (set to False for development)
DEBUG=False

# Allowed hosts (your domains and VPS IP)
ALLOWED_HOSTS=api.kitonga.klikcell.com,kitonga.klikcell.com,66.29.143.116,localhost,127.0.0.1

# ==================================================
# DATABASE CONFIGURATION
# ==================================================

# Using SQLite (default) - change if using PostgreSQL/MySQL
DATABASE_URL=sqlite:///db.sqlite3

# For PostgreSQL (uncomment and configure if needed):
# DATABASE_URL=postgres://username:password@localhost:5432/kitonga_db

# For MySQL (uncomment and configure if needed):
# DATABASE_URL=mysql://username:password@localhost:3306/kitonga_db

# ==================================================
# MIKROTIK ROUTER CONFIGURATION
# ==================================================

# IMPORTANT: Disable mock mode for VPS (enables full router control)
MIKROTIK_MOCK_MODE=false

# ============================================
# VPS Production (via WireGuard tunnel) - ACTIVE
# ============================================
MIKROTIK_HOST=10.50.0.2
MIKROTIK_PORT=8728
MIKROTIK_USER=admin
MIKROTIK_PASSWORD=Kijangwani2003
MIKROTIK_USE_SSL=false

# ============================================
# Local/Offline Development (direct router IP)
# ============================================
# MIKROTIK_HOST=10.50.0.2
# MIKROTIK_PORT=8728
# MIKROTIK_USER=admin
# MIKROTIK_PASSWORD=Kijangwani2003
# MIKROTIK_USE_SSL=false

MIKROTIK_DEFAULT_PROFILE=default

# Legacy settings (for backward compatibility)
MIKROTIK_ROUTER_IP=10.50.0.2
MIKROTIK_API_PORT=8728
MIKROTIK_ADMIN_USER=admin
MIKROTIK_ADMIN_PASS=Kijangwani2003

# ==================================================
# CLICKPESA PAYMENT CONFIGURATION
# ==================================================

# ClickPesa API credentials (update with your actual values)
CLICKPESA_CLIENT_ID=your_clickpesa_client_id_here
CLICKPESA_API_KEY=your_clickpesa_api_key_here
CLICKPESA_BASE_URL=https://api.clickpesa.com
CLICKPESA_WEBHOOK_URL=https://api.kitonga.klikcell.com/api/clickpesa-webhook/

# ==================================================
# NEXTSMS CONFIGURATION
# ==================================================

# NextSMS API credentials (update with your actual values)
NEXTSMS_USERNAME=your_nextsms_username_here
NEXTSMS_PASSWORD=your_nextsms_password_here
NEXTSMS_SENDER_ID=Klikcell
NEXTSMS_BASE_URL=https://messaging-service.co.tz

# Test mode (set to false for production)
IS_TEST_MODE=false

# ==================================================
# CORS AND CSRF SETTINGS
# ==================================================

# CORS allowed origins (your domains)
CORS_ALLOWED_ORIGINS=https://kitonga.klikcell.com,https://api.kitonga.klikcell.com

# CSRF trusted origins (your domains)
CSRF_TRUSTED_ORIGINS=https://kitonga.klikcell.com,https://api.kitonga.klikcell.com

# ==================================================
# ADMIN AUTHENTICATION
# ==================================================

# Admin token for API access
SIMPLE_ADMIN_TOKEN=kitonga_admin_2025

# Admin token secret (uses SECRET_KEY if not set)
ADMIN_TOKEN_SECRET=your_admin_token_secret_here

# ==================================================
# WI-FI SYSTEM CONFIGURATION
# ==================================================

# Daily access price (TSh)
DAILY_ACCESS_PRICE=1000

# Access duration (hours)
ACCESS_DURATION_HOURS=24

# Maximum devices per user
MAX_DEVICES_PER_USER=1

# ==================================================
# VPS SPECIFIC SETTINGS
# ==================================================

# Static files configuration
STATIC_URL=/static/
STATIC_ROOT=staticfiles

# Media files configuration
MEDIA_URL=/media/
MEDIA_ROOT=media

# WhiteNoise settings for static file serving
WHITENOISE_USE_FINDERS=true
WHITENOISE_AUTOREFRESH=false
WHITENOISE_MANIFEST_STRICT=false

# ==================================================
# SECURITY SETTINGS (VPS PRODUCTION)
# ==================================================

# HTTPS settings (enabled in production when DEBUG=False)
SECURE_SSL_REDIRECT=true
SECURE_PROXY_SSL_HEADER=HTTP_X_FORWARDED_PROTO,https
SESSION_COOKIE_SECURE=true
CSRF_COOKIE_SECURE=true

# HSTS settings
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=true
SECURE_HSTS_PRELOAD=true

# Security headers
SECURE_BROWSER_XSS_FILTER=true
SECURE_CONTENT_TYPE_NOSNIFF=true
X_FRAME_OPTIONS=DENY
SECURE_REFERRER_POLICY=same-origin

# ==================================================
# LOGGING CONFIGURATION
# ==================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log directory
LOG_DIR=logs

# ==================================================
# TIMEZONE AND LOCALIZATION
# ==================================================

# Timezone
TIME_ZONE=Africa/Dar_es_Salaam

# Language
LANGUAGE_CODE=en-us

# Internationalization
USE_I18N=true
USE_TZ=true

# ==================================================
# REST FRAMEWORK SETTINGS
# ==================================================

# API throttling (optional)
API_THROTTLE_RATE=1000/hour

# ==================================================
# CACHE CONFIGURATION (OPTIONAL)
# ==================================================

# Redis cache (uncomment if using Redis)
# REDIS_URL=redis://127.0.0.1:6379/1

# Memcached (uncomment if using Memcached)
# MEMCACHED_URL=127.0.0.1:11211

# ==================================================
# EMAIL CONFIGURATION (OPTIONAL)
# ==================================================

# SMTP settings (for system notifications)
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=true
# EMAIL_HOST_USER=your_email@gmail.com
# EMAIL_HOST_PASSWORD=your_app_password
# DEFAULT_FROM_EMAIL=Kitonga Wi-Fi <noreply@kitonga.klikcell.com>

# ==================================================
# BACKUP CONFIGURATION (OPTIONAL)
# ==================================================

# Backup directory
BACKUP_DIR=backups

# S3 backup settings (if using AWS S3)
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_STORAGE_BUCKET_NAME=kitonga-backups
# AWS_S3_REGION_NAME=us-east-1

# ==================================================
# MONITORING AND ANALYTICS (OPTIONAL)
# ==================================================

# Sentry error tracking (if using Sentry)
# SENTRY_DSN=https://your_sentry_dsn_here

# Google Analytics (if using)
# GOOGLE_ANALYTICS_ID=UA-XXXXXXXX-X

# ==================================================
# THIRD-PARTY INTEGRATIONS (OPTIONAL)
# ==================================================

# WhatsApp Business API (if using)
# WHATSAPP_API_TOKEN=your_whatsapp_token
# WHATSAPP_PHONE_ID=your_phone_id

# Firebase (if using for push notifications)
# FIREBASE_API_KEY=your_firebase_api_key
# FIREBASE_PROJECT_ID=your_project_id

# ==================================================
# CUSTOM APPLICATION SETTINGS
# ==================================================

# Custom branding
SITE_NAME=Kitonga Wi-Fi
SITE_DESCRIPTION=Professional Wi-Fi Hotspot Management System

# Support contact
SUPPORT_EMAIL=support@klikcell.com
SUPPORT_PHONE=+255743852695

# Business settings
BUSINESS_NAME=Klikcell Communications
BUSINESS_ADDRESS=Tanzania

# ==================================================
# DEVELOPMENT/TESTING OVERRIDES
# ==================================================

# Uncomment these for development/testing
# DEBUG=true
# MIKROTIK_MOCK_MODE=true
# IS_TEST_MODE=true
# SECURE_SSL_REDIRECT=false
# SESSION_COOKIE_SECURE=false
# CSRF_COOKIE_SECURE=false

# ==================================================
# ENVIRONMENT-SPECIFIC NOTES
# ==================================================

# üìù IMPORTANT NOTES:
# 1. Update CLICKPESA_* values with your actual ClickPesa credentials
# 2. Update NEXTSMS_* values with your actual NextSMS credentials
# 3. Set MIKROTIK_MOCK_MODE=false for VPS (enables router control)
# 4. Ensure your router allows API access from VPS IP: 66.29.143.116
# 5. Configure MikroTik external auth URLs:
#    - Login: https://api.kitonga.klikcell.com/api/mikrotik/auth/
#    - Logout: https://api.kitonga.klikcell.com/api/mikrotik/logout/
# 6. For security, consider setting up WireGuard VPN between VPS and router
# 7. Generate a new SECRET_KEY for production using Django's utility
# 8. Regularly backup your .env file and database

# ==================================================
# QUICK VERIFICATION COMMANDS
# ==================================================

# Test router connection via WireGuard VPN:
# nc -zv 10.50.0.2 8728

# Test API endpoints:
# curl -X GET https://api.kitonga.klikcell.com/api/admin/mikrotik/router-info/ -H "X-Admin-Access: kitonga_admin_2025"

# Check environment loading:
# python manage.py shell -c "from django.conf import settings; print('Mock Mode:', getattr(settings, 'MIKROTIK_MOCK_MODE', 'Not set'))"
